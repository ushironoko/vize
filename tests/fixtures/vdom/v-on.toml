# VDom: v-on tests

mode = "vdom"

# =============================================================================
# Basic v-on
# =============================================================================

[[cases]]
name = "v-on handler"
input = '<button v-on:click="handler"></button>'

[[cases]]
name = "v-on shorthand"
input = '<button @click="handler"></button>'

[[cases]]
name = "inline handler"
input = '<button @click="count++"></button>'

[[cases]]
name = "inline with statement"
input = '<button @click="count = count + 1"></button>'

[[cases]]
name = "method call"
input = '<button @click="handler()"></button>'

[[cases]]
name = "method with args"
input = '<button @click="handler(1, 2)"></button>'

# =============================================================================
# Event with $event
# =============================================================================

[[cases]]
name = "inline with $event"
input = '<button @click="handler($event)"></button>'

[[cases]]
name = "inline $event property"
input = '<button @click="handler($event.target.value)"></button>'

[[cases]]
name = "arrow function with event"
input = '<button @click="e => handler(e)"></button>'

[[cases]]
name = "arrow function with multiple params"
input = '<div @custom="(a, b) => handler(a, b)"></div>'

# =============================================================================
# Modifiers
# =============================================================================

[[cases]]
name = "stop modifier"
input = '<button @click.stop="handler"></button>'

[[cases]]
name = "prevent modifier"
input = '<form @submit.prevent="onSubmit"></form>'

[[cases]]
name = "stop and prevent"
input = '<button @click.stop.prevent="handler"></button>'

[[cases]]
name = "capture modifier"
input = '<div @click.capture="handler"></div>'

[[cases]]
name = "once modifier"
input = '<button @click.once="handler"></button>'

[[cases]]
name = "passive modifier"
input = '<div @scroll.passive="onScroll"></div>'

[[cases]]
name = "self modifier"
input = '<div @click.self="handler"></div>'

# =============================================================================
# Key modifiers
# =============================================================================

[[cases]]
name = "enter key"
input = '<input @keyup.enter="submit">'

[[cases]]
name = "escape key"
input = '<input @keyup.esc="cancel">'

[[cases]]
name = "tab key"
input = '<input @keyup.tab="next">'

[[cases]]
name = "delete key"
input = '<input @keyup.delete="remove">'

[[cases]]
name = "arrow keys"
input = '<input @keyup.up="up" @keyup.down="down" @keyup.left="left" @keyup.right="right">'

[[cases]]
name = "key code"
input = '<input @keyup.13="submit">'

# =============================================================================
# System modifiers
# =============================================================================

[[cases]]
name = "ctrl modifier"
input = '<input @keyup.ctrl.enter="submit">'

[[cases]]
name = "alt modifier"
input = '<button @click.alt="handler"></button>'

[[cases]]
name = "shift modifier"
input = '<button @click.shift="handler"></button>'

[[cases]]
name = "meta modifier"
input = '<button @click.meta="handler"></button>'

[[cases]]
name = "exact modifier"
input = '<button @click.ctrl.exact="handler"></button>'

# =============================================================================
# Mouse button modifiers
# =============================================================================

[[cases]]
name = "left click"
input = '<button @click.left="handler"></button>'

[[cases]]
name = "right click"
input = '<button @click.right="handler"></button>'

[[cases]]
name = "middle click"
input = '<button @click.middle="handler"></button>'

# =============================================================================
# Multiple events
# =============================================================================

[[cases]]
name = "multiple events"
input = '<input @focus="onFocus" @blur="onBlur">'

[[cases]]
name = "same event different modifiers"
input = '<button @click="a" @click.ctrl="b"></button>'

# =============================================================================
# Dynamic event name
# =============================================================================

[[cases]]
name = "dynamic event name"
input = '<button @[event]="handler"></button>'

[[cases]]
name = "dynamic event with modifier"
input = '<button @[event].stop="handler"></button>'

# =============================================================================
# v-on object
# =============================================================================

[[cases]]
name = "v-on object"
input = '<button v-on="handlers"></button>'

[[cases]]
name = "v-on object with other events"
input = '<button v-on="handlers" @click="extra"></button>'

# =============================================================================
# Native events on components
# =============================================================================

[[cases]]
name = "component event"
input = '<MyComponent @update="onUpdate" />'

[[cases]]
name = "component native event"
input = '<MyComponent @click.native="onClick" />'

# =============================================================================
# Cache handlers
# =============================================================================

[[cases]]
name = "inline handler (cacheHandlers)"
input = '<button @click="count++"></button>'
[cases.options]
cacheHandlers = true

[[cases]]
name = "inline statement (cacheHandlers)"
input = '<button @click="count = count + 1"></button>'
[cases.options]
cacheHandlers = true

[[cases]]
name = "method call (cacheHandlers)"
input = '<button @click="handler()"></button>'
[cases.options]
cacheHandlers = true

[[cases]]
name = "handler reference (cacheHandlers)"
input = '<button @click="handler"></button>'
[cases.options]
cacheHandlers = true

[[cases]]
name = "multiple cached handlers"
input = '<button @click="count++" @mouseenter="hover = true"></button>'
[cases.options]
cacheHandlers = true
