# VDom: Component compilation tests

mode = "vdom"

# =============================================================================
# Basic components
# =============================================================================

[[cases]]
name = "simple component"
input = "<MyComponent />"

[[cases]]
name = "component with closing tag"
input = "<MyComponent></MyComponent>"

[[cases]]
name = "component with text content"
input = "<MyComponent>content</MyComponent>"

[[cases]]
name = "PascalCase component"
input = "<MyComponent />"

[[cases]]
name = "kebab-case component"
input = "<my-component />"

# =============================================================================
# Component props
# =============================================================================

[[cases]]
name = "static prop"
input = '<MyComponent msg="hello" />'

[[cases]]
name = "dynamic prop"
input = '<MyComponent :msg="message" />'

[[cases]]
name = "boolean prop"
input = "<MyComponent disabled />"

[[cases]]
name = "multiple props"
input = '<MyComponent :count="n" title="Test" />'

[[cases]]
name = "v-bind object"
input = '<MyComponent v-bind="props" />'

[[cases]]
name = "v-bind object with extra props"
input = '<MyComponent v-bind="props" :extra="value" />'

# =============================================================================
# Built-in components
# =============================================================================

[[cases]]
name = "Teleport"
input = '<Teleport to="body"><div>content</div></Teleport>'

[[cases]]
name = "Suspense"
input = "<Suspense><Component /></Suspense>"

[[cases]]
name = "KeepAlive"
input = "<KeepAlive><Component /></KeepAlive>"

[[cases]]
name = "Transition"
input = '<Transition name="fade"><div v-if="show">content</div></Transition>'

[[cases]]
name = "TransitionGroup"
input = '<TransitionGroup tag="ul"><li v-for="item in items" :key="item">{{ item }}</li></TransitionGroup>'

# =============================================================================
# Built-in components (kebab-case) - Bug-27
# =============================================================================

[[cases]]
name = "keep-alive kebab-case"
input = "<keep-alive><Component /></keep-alive>"

[[cases]]
name = "transition kebab-case"
input = '<transition name="fade"><div v-if="show">content</div></transition>'

[[cases]]
name = "transition-group kebab-case"
input = '<transition-group tag="ul"><li v-for="item in items" :key="item">{{ item }}</li></transition-group>'

[[cases]]
name = "teleport kebab-case"
input = '<teleport to="body"><div>content</div></teleport>'

[[cases]]
name = "suspense kebab-case"
input = "<suspense><Component /></suspense>"

# =============================================================================
# Dynamic components
# =============================================================================

[[cases]]
name = "dynamic component"
input = '<component :is="currentComponent" />'

[[cases]]
name = "dynamic component with static is"
input = '<component is="MyComponent" />'

[[cases]]
name = "dynamic component with props"
input = '<component :is="current" :msg="message" />'

# =============================================================================
# Component with v-model
# =============================================================================

[[cases]]
name = "v-model on component"
input = '<MyComponent v-model="value" />'

[[cases]]
name = "named v-model"
input = '<MyComponent v-model:title="pageTitle" />'

[[cases]]
name = "multiple v-model"
input = '<MyComponent v-model:first="a" v-model:second="b" />'

[[cases]]
name = "v-model with modifier"
input = '<MyComponent v-model.trim="value" />'

[[cases]]
name = "v-model with multiple modifiers"
input = '<MyComponent v-model.trim.lazy="value" />'

# =============================================================================
# Component with directives
# =============================================================================

[[cases]]
name = "component with v-if"
input = '<MyComponent v-if="show" />'

[[cases]]
name = "component with v-else"
input = '<MyComponent v-if="a" /><OtherComponent v-else />'

[[cases]]
name = "component with v-for"
input = '<MyComponent v-for="item in items" :key="item.id" />'

[[cases]]
name = "component with v-show"
input = '<MyComponent v-show="visible" />'

[[cases]]
name = "component with custom directive"
input = "<MyComponent v-focus />"

# =============================================================================
# Component events
# =============================================================================

[[cases]]
name = "component event handler"
input = '<MyComponent @update="onUpdate" />'

[[cases]]
name = "component event with argument"
input = '<MyComponent @update="onUpdate($event)" />'

[[cases]]
name = "component multiple events"
input = '<MyComponent @update="onUpdate" @change="onChange" />'

[[cases]]
name = "component event modifiers"
input = '<MyComponent @update.once="onUpdate" />'
