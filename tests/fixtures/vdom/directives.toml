# VDom: Custom directives tests

mode = "vdom"

# =============================================================================
# Basic custom directives
# =============================================================================

[[cases]]
name = "custom directive"
input = "<div v-focus></div>"

[[cases]]
name = "custom directive with value"
input = '<div v-highlight="color"></div>'

[[cases]]
name = "custom directive with literal"
input = "<div v-highlight=\"'yellow'\"></div>"

[[cases]]
name = "custom directive with object"
input = '<div v-pin="{ top: 10, left: 20 }"></div>'

# =============================================================================
# Directive arguments
# =============================================================================

[[cases]]
name = "directive with argument"
input = '<div v-scroll:top="value"></div>'

[[cases]]
name = "directive with dynamic argument"
input = '<div v-scroll:[direction]="value"></div>'

# =============================================================================
# Directive modifiers
# =============================================================================

[[cases]]
name = "directive with modifier"
input = "<div v-focus.lazy></div>"

[[cases]]
name = "directive with multiple modifiers"
input = "<div v-custom.a.b.c></div>"

[[cases]]
name = "directive with arg and modifiers"
input = '<div v-dir:arg.mod1.mod2="value"></div>'

# =============================================================================
# Multiple directives
# =============================================================================

[[cases]]
name = "multiple custom directives"
input = "<div v-focus v-highlight></div>"

[[cases]]
name = "custom with built-in"
input = '<div v-focus v-show="visible"></div>'

# =============================================================================
# Directives on components
# =============================================================================

[[cases]]
name = "directive on component"
input = "<MyComponent v-focus />"

[[cases]]
name = "directive on component with props"
input = '<MyComponent v-focus :prop="value" />'

# =============================================================================
# v-html and v-text
# =============================================================================

[[cases]]
name = "v-html"
input = '<div v-html="rawHtml"></div>'

[[cases]]
name = "v-text"
input = '<div v-text="msg"></div>'

[[cases]]
name = "v-html with static"
input = '<div class="content" v-html="html"></div>'

# =============================================================================
# v-cloak and v-pre
# =============================================================================

[[cases]]
name = "v-cloak"
input = "<div v-cloak>{{ msg }}</div>"

[[cases]]
name = "v-pre"
input = "<div v-pre>{{ this will not compile }}</div>"

[[cases]]
name = "v-pre with children"
input = "<div v-pre><span>{{ raw }}</span></div>"

# =============================================================================
# v-pre edge cases (vuejs/core #8417)
# =============================================================================

[[cases]]
name = "v-pre with on-prefixed attribute"
input = '<div v-pre test on-test is-on-test>content</div>'

[[cases]]
name = "v-pre should not process shorthand directives"
input = '<div v-pre :id="dynamic" @click="handler">{{ raw }}</div>'

[[cases]]
name = "v-pre nested elements preserve attributes"
input = '<div v-pre><span :class="cls" @click="fn">{{ raw }}</span></div>'
